add_namespace = gryphianhost

country_event = {
	id = gryphianhost.100
	immediate = {log = "[Root.GetName]: event gryphianhost.100"}#Auto-logging
	title = gryphianhost.100.t
	desc = gryphianhost.100.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.100.a
		GRW = { country_event = griffonwill.102 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_opinion = { target = GRW value > 30 }
			}
			modifier = {
				add = 2
				communism > 0.4
			}
		}
	}
	option = { # no
		name = gryphianhost.100.b
		GRW = { country_event = griffonwill.1012 }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = gryphianhost.101
	immediate = {log = "[Root.GetName]: event gryphianhost.101"}#Auto-logging
	title = gryphianhost.101.t
	desc = gryphianhost.101.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		OR = {
			original_tag = GRY
			original_tag = LUS
		}
		GRW = {
			has_completed_focus = GRW_annex_Lushi
			OR = {
				has_offensive_war_with = GRY
				has_offensive_war_with = LUS
			}
		}
		NOT = {
			has_war_with = GRW
			is_subject_of = GRW
		}
	}
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.101.a
		declare_war_on = { target = GRW type = puppet_wargoal_focus }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 30
				NOT = { has_government = communism }
			}
		}
	}
	option = { # no
		name = gryphianhost.101.b
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {#Raid event, did you succeed?
	id = gryphianhost.102
	title = gryphianhost.102.t
	desc = gryphianhost.102.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		original_tag = GRY
		OR = {
		has_country_flag = GRY_raiding_brodfeld
		has_country_flag = GRY_raiding_radicals
		}
	}
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {#Successful raid
	name = gryphianhost.102.a
		if = {
			limit = {
				has_country_flag = GRY_raiding_brodfeld
			}
				add_timed_idea = {idea = GRY_consumer_bonus days = 365}
		  	 set_country_flag = GRY_raid_succeeded
			BRF = {
				add_timed_idea = {idea = GRY_raided days = 186}
			}
		}

	 else_if = {
		limit = {
				has_country_flag = GRY_raiding_radicals
			}
		 		add_equipment_to_stockpile = { type = infantry_equipment amount = 500 producer = GRW }
				add_timed_idea = {idea = GRY_research_bonus days = 365}

		set_country_flag = GRY_raid_succeeded
			GRW = {
				add_timed_idea = {idea = GRY_raided days = 186}
				}
		}

	}
	option = {#Raid fails
		name = gryphianhost.102.b
		add_political_power = 20
		add_stability = -0.02
		set_country_flag = GRY_raid_failed
	}
}
